#
# SOURCES file for EnumerateDriverMinifilters
# Used by the Windows Driver Kit (WDK) build system
#

TARGETNAME=EnumerateDriverMinifilters
TARGETTYPE=DRIVER

# Minifilter registration - required for proper filter loading
DRIVERTYPE=FS

# Set target platform
TARGETPATH=obj

# Include paths
INCLUDES=$(DDK_INC_PATH);.

# Source files
SOURCES=\
    Driver.c \
    EnumerateDriverMinifilters.c

# Required libraries
TARGETLIBS=$(DDK_LIB_PATH)\fltMgr.lib \
           $(DDK_LIB_PATH)\ntstrsafe.lib

# Compiler flags
C_DEFINES=$(C_DEFINES) -DUNICODE -D_UNICODE

# Set to run on Windows 10 and later
_NT_TARGET_VERSION=$(_NT_TARGET_VERSION_WIN10)

# Enable warnings as errors
MSC_WARNING_LEVEL=/W4 /WX
